package com.techlabs.facade.model;

import java.util.Scanner;

public class Game {

	private Board board;
	private IPlayer xPlayer;
	private IPlayer oPlayer;
	private IPlayer currentPlayer;
	
	private int rows;
	private int columns;
	
	public Game(int rows, int columns) {
		this.rows = rows;
		this.columns = columns;
	    board = new Board(rows, columns);
	    xPlayer = new XPlayer();
	    oPlayer = new OPlayer();
	    currentPlayer = xPlayer;
	  }
	
	public void switchPlayer() {
		currentPlayer = (currentPlayer == xPlayer) ? oPlayer: xPlayer;
	}
	
	public void play() {
		Scanner scanner = new Scanner(System.in);
		boolean gameWon = false;
		while(!gameWon) {
			System.out.println("Current Player : "+xPlayer +", Enter position of row and column eg: [1-3]: ");
			int row = scanner.nextInt();
			int column = scanner.nextInt();
			
			if(board.isValidMove(row, column)) {
				board.makeAMove(row, column, currentPlayer.getSymbol());
					board.printBoard();
				
			}
			scanner.close();
		}
		
	}
}


